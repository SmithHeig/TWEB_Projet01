(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{176:function(e,t,a){e.exports=a(284)},181:function(e,t,a){},183:function(e,t,a){},185:function(e,t,a){},263:function(e,t,a){},265:function(e,t,a){},284:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(17),s=a.n(i);a(181),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(287),c=a(286),l=a(18),h=a(19),u=a(21),d=a(20),p=a(22),f=(a(183),a(3)),m=a(37),b=a.n(m),g=(a(185),a(288)),v=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={username:""},a.handleChange=a.handleChange.bind(Object(f.a)(Object(f.a)(a))),a.changeRoot=a.changeRoot.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"handleChange",value:function(e){this.setState({username:e.target.value})}},{key:"changeRoot",value:function(){var e="/friends/"+this.state.username;this.props.history.push(e)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("input",{id:"filedUsername",className:"filedUsername",type:"text",placeholder:"Username",value:this.state.username,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(b.a,{type:"submit",id:"searchButton",className:"searchButton",variant:"contained",color:"primary",onClick:this.changeRoot},"Search")))}}]),t}(r.a.Component),y=Object(g.a)(v),k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).ref=r.a.createRef(),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-body"},r.a.createElement("h1",null,"Github Friends"),r.a.createElement("h2",null,"Find out who works the most on your repositories"),r.a.createElement(y,null)))}}]),t}(n.Component),j=a(5),O=a(78),E=a.n(O),w=a(1),x=a.n(w),S=(a(263),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).node=null,a.link=null,a.label=null,a.state={graph:void 0,minSize:a.props.height>a.props.width?a.props.width:a.props.height,user:""},a.dragstarted=a.dragstarted.bind(Object(f.a)(Object(f.a)(a))),a.dragended=a.dragended.bind(Object(f.a)(Object(f.a)(a))),a.dragged=a.dragged.bind(Object(f.a)(Object(f.a)(a))),a.ticked=a.ticked.bind(Object(f.a)(Object(f.a)(a))),a.createGraph=a.createGraph.bind(Object(f.a)(Object(f.a)(a))),a.changeRoot=a.changeRoot.bind(Object(f.a)(Object(f.a)(a))),a.simulation=j.f().force("link",j.d().id(function(e){return e.id})).force("charge",j.e().strength(-5e3).theta(.9).distanceMax(a.state.minSize/2)).force("center",j.c(a.props.width/2,a.props.height/2)),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"createGraph",value:function(){if(this.state.graph){var e=this.state.graph.nodes,t=j.g("#svg").append("g");this.link=t.style("stroke","#aaa").selectAll("line").data(this.state.graph.links).enter().append("line"),this.node=t.append("g").attr("class","nodes").selectAll("circle").data(this.state.graph.nodes).enter().append("circle").attr("r",function(t,a){return 10*e[a].value}).on("click",function(e,t){var a=this;this.state.graph.nodes[t].username!==this.state.user&&this.setState({user:this.state.graph.nodes[t].username},function(){a.changeRoot()})}.bind(this)).on("mouseover",function(e){j.g("#tooltip").style("left",e.x+"px").style("top",e.y+100+"px").select("#value").text(e.value),j.g("#tooltip").classed("hidden",!1)}).on("mouseout",function(){j.g("#tooltip").classed("hidden",!0)}).call(j.a().on("start",this.dragstarted).on("drag",this.dragged).on("end",this.dragended)),this.label=t.append("g").attr("class","labels").selectAll("text").data(this.state.graph.nodes).enter().append("text").attr("class","label").style("stroke","#fff").style("fill","#fff").style("color","#fff").style("font-size","28px").on("click",function(e,t){var a=this;this.state.graph.nodes[t].username!==this.state.user&&this.setState({user:this.state.graph.nodes[t].username},function(){a.changeRoot()})}.bind(this)).on("mouseover",function(e){j.g("#tooltip").style("left",e.x+"px").style("top",e.y+100+"px").select("#value").text(e.value),j.g("#tooltip").classed("hidden",!1)}).on("mouseout",function(){j.g("#tooltip").classed("hidden",!0)}).text(function(e){return e.username}),j.h().on("zoom",function(){t.attr("transform",j.b.transform)})(t),this.simulation.nodes(this.state.graph.nodes).on("tick",this.ticked),this.simulation.force("link").links(this.state.graph.links)}}},{key:"componentDidMount",value:function(){var e=this;this.setState({graph:this.state.graph},function(){e.createGraph()})}},{key:"componentDidUpdate",value:function(){var e=this;this.props.graph!==this.state.graph&&this.setState({graph:this.props.graph},function(){e.createGraph()})}},{key:"changeRoot",value:function(){this.props.reload(this.state.user);var e="/friends/"+this.state.user;this.props.history.push(e)}},{key:"dragstarted",value:function(e){j.b.active||this.simulation.alphaTarget(.3).restart(),e.fx=e.x,e.fy=e.y}},{key:"dragged",value:function(e){e.fx=j.b.x,e.fy=j.b.y}},{key:"dragended",value:function(e){e.fx=j.b.x,e.fy=j.b.y,j.b.active||this.simulation.alphaTarget(0)}},{key:"ticked",value:function(){this.link.attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y}),this.node.style("fill","#bababa").style("stroke","#424242").style("stroke-width","1px").attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}),this.label.attr("x",function(e){return e.x}).attr("y",function(e){return e.y})}},{key:"render",value:function(){return this.props.graph?r.a.createElement("div",null,r.a.createElement("svg",{className:"container",id:"svg",width:this.props.width,height:this.props.height}),r.a.createElement("div",{id:"tooltip",className:"hidden"},r.a.createElement("b",null,r.a.createElement("p",{id:"value"},"1")))):r.a.createElement(E.a,{type:"spin",width:this.state.minSize/2,height:this.state.minSize/2,color:"#fff"})}}]),t}(n.Component));S.contextTypes={router:x.a.object};var C=Object(g.a)(S),D=a(79),F=a.n(D),G=a(80),R=a.n(G),B=a(28),N=a(285),z=(a(265),function(e){function t(e,a){var n,r=e.match;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,{match:r},a))).state={username:r.params.username,collaborators:{},graph:void 0,searchFieldVisibile:!1},n.makeGraphFromData=n.makeGraphFromData.bind(Object(f.a)(Object(f.a)(n))),n.fetchData=n.fetchData.bind(Object(f.a)(Object(f.a)(n))),n.reload=n.reload.bind(Object(f.a)(Object(f.a)(n))),n.showSearchBar=n.showSearchBar.bind(Object(f.a)(Object(f.a)(n))),n.textInfo='\n    That is the "friends" of '+n.state.username+" !\n    The size of the bubbles represent the number of repositories \n    that this person had contribut to "+n.state.username+" repositories!\n    Click on a user to see his friends",n}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(){}},{key:"reload",value:function(e){var t=this;this.setState({username:e,graph:void 0},function(){return t.fetchData()})}},{key:"fetchData",value:function(){var e=this,t="https://githubfriends.herokuapp.com/friends/"+this.state.username;fetch(t).then(function(e){return e.json()}).then(function(t){var a=e.makeGraphFromData(t,e.state.username);e.setState({graph:a})}).catch(function(e){return console.log("Erreur: "+e)})}},{key:"makeGraphFromData",value:function(e,t){var a,n={nodes:[],links:[]},r=[],i=[];Object.keys(e).map(function(n,i){var s={};return s.id=i,s.username=n,s.value=e[n],r[i]=s,s.username.toLowerCase()===t.toLowerCase()&&(a=s.id),r}),n.nodes=r;var s=0;return r.forEach(function(e){if(e.id!==a){var t={};return t.source=a,t.target=e.id,t.value=100,i[s++]=t,i}}),n.links=i,n}},{key:"showSearchBar",value:function(){this.setState({searchFieldVisibile:!this.state.searchFieldVisibile})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h1",null,r.a.createElement(N.a,{to:"/",id:"link"},"Friends"),r.a.createElement(B.b,{title:this.textInfo,placement:"bottom"},r.a.createElement(B.a,{style:{color:"white"}},r.a.createElement(F.a,{id:"info"}))),r.a.createElement(B.b,{title:"New research"},r.a.createElement(B.a,{style:{color:"white"},onClick:this.showSearchBar},r.a.createElement(R.a,null)))),this.state.searchFieldVisibile?r.a.createElement(y,null):null),r.a.createElement(C,{width:window.innerWidth,height:window.innerHeight-200,graph:this.state.graph,reload:this.reload}))}}]),t}(n.Component)),A=r.a.createElement(o.a,{basename:"/TWEB_Projet01"},r.a.createElement("div",{className:"App-body"},r.a.createElement(c.a,{exact:!0,path:"/",component:k}),r.a.createElement(c.a,{path:"/friends/:username",component:z})));s.a.render(A,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[176,2,1]]]);
//# sourceMappingURL=main.d223dba9.chunk.js.map